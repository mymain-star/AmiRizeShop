<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AmirizeShop - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ç–µ –∂–µ —Å—Ç–∏–ª–∏, —á—Ç–æ –∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&family=Jost:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --pink: #f8d7da;
            --dark-pink: #f3c1c6;
            --black: #212529;
            --white: #ffffff;
            --gray: #f8f9fa;
            --font-heading: 'Jost', sans-serif;
            --font-body: 'Comfortaa', cursive;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: var(--font-body);
        }

        body {
            background-color: var(--white);
            color: var(--black);
            line-height: 1.6;
        }

        .checkout-container {
            max-width: 800px;
            margin: 3rem auto;
            padding: 2rem;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
        }

        h1, h2, h3 {
            font-family: var(--font-heading);
            color: var(--black);
            margin-bottom: 1.5rem;
        }

        h1 {
            font-size: 2.2rem;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: var(--dark-pink);
        }

        .order-summary {
            background: rgba(248, 215, 218, 0.3);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px dashed var(--pink);
        }

        .order-total {
            font-weight: 700;
            font-size: 1.2rem;
            margin-top: 1rem;
            text-align: right;
        }

        .form-section {
            margin-bottom: 2.5rem;
        }

        .form-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark-pink);
        }

        .color-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .color-option.selected {
            border-color: var(--black);
            transform: scale(1.1);
        }

        .size-options {
            display: flex;
            gap: 15px;
            margin: 1rem 0;
        }

        .size-option {
            padding: 0.8rem 1.5rem;
            background: var(--white);
            border: 2px solid var(--pink);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .size-option.selected {
            background: var(--pink);
            font-weight: 600;
        }

        textarea, input[type="text"] {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--pink);
            border-radius: 10px;
            margin-top: 0.5rem;
            font-family: var(--font-body);
            resize: vertical;
            min-height: 100px;
        }

        .submit-btn {
            display: block;
            width: 100%;
            padding: 1.2rem;
            background-color: var(--black);
            color: var(--white);
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 2rem;
            text-transform: uppercase;
        }

        .submit-btn:hover {
            background-color: var(--dark-pink);
            color: var(--black);
            letter-spacing: 1px;
        }

        @media (max-width: 768px) {
            .checkout-container {
                margin: 1rem;
                padding: 1.5rem;
            }
            
            .color-options, .size-options {
                justify-content: center;
            }
        }
        header {
    background-color: var(--white);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 100;
}

nav {
    display: flex;
    justify-content: center;
    padding: 1.5rem;
}

nav a {
    color: var(--black);
    text-decoration: none;
    margin: 0 1.5rem;
    font-weight: 500;
    font-size: 1.1rem;
    position: relative;
    transition: color 0.3s;
}

nav a:hover {
    color: var(--dark-pink);
}

nav a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -5px;
    left: 0;
    background-color: var(--dark-pink);
    transition: width 0.3s;
}

nav a:hover::after {
    width: 100%;
}
/* –ö–æ—Ä–∑–∏–Ω–∞ */
.cart-icon {
    position: fixed;
    top: 1.5rem;
    right: 2rem;
    cursor: pointer;
    z-index: 101;
    background-color: var(--pink);
    border-radius: 50%;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s;
}

.cart-icon:hover {
    transform: scale(1.1);
}

.cart-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: var(--black);
    color: var(--white);
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
}
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è (–∫–∞–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π) -->
    <header>
        <nav>
            <a href="amirize.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="amirize.html">–û –Ω–∞—Å</a>
            <a href="amirize.html">–ö–∞—Ç–∞–ª–æ–≥</a>
            <a href="amirize.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </nav>    
    </header>
    
    <!-- –ò–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="cart-icon" id="cartIcon">
        üõí
        <span class="cart-count" id="cartCount">0</span>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="checkout-container">
        <h1>–û–§–û–†–ú–õ–ï–ù–ò–ï –ó–ê–ö–ê–ó–ê</h1>
        
        <!-- –°–µ–∫—Ü–∏—è —Å —Ç–æ–≤–∞—Ä–∞–º–∏ -->
        <div class="order-summary">
            <h2>–í–∞—à –∑–∞–∫–∞–∑</h2>
            <div id="orderItemsContainer"></div>
            <div class="order-total">
                –ò—Ç–æ–≥–æ: <strong id="orderTotal">0 ‚ÇΩ</strong>
            </div>
        </div>
        
        <!-- –§–æ—Ä–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è -->
        <form action="https://formcarry.com/s/WdTH3LQ-WWu" method="POST" id="orderForm">
            <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
            <input type="hidden" name="_gotcha" value=""> <!-- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ -->
            <!-- –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ -->
            <div class="form-section">
                <h2>–¶–≤–µ—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</h2>
                <div class="color-options">
                    <div class="color-option selected" style="background: #f8d7da;" data-color="–†–æ–∑–æ–≤—ã–π"></div>
                    <div class="color-option" style="background: #f3c1c6;" data-color="–¢—ë–º–Ω–æ-—Ä–æ–∑–æ–≤—ã–π"></div>
                    <div class="color-option" style="background: #ffffff; border: 1px solid #eee;" data-color="–ë–µ–ª—ã–π"></div>
                    <div class="color-option" style="background: #f2d080;" data-color="–ö—Ä–µ–º–æ–≤—ã–π"></div>
                    <div class="color-option" style="background: #7cdeff;" data-color="–ì–æ–ª—É–±–æ–π"></div>
                    <div class="color-option" style="background: #c78fff;" data-color="–°–∏—Ä–µ–Ω–µ–≤—ã–π"></div>
                    <div class="color-option" style="background: #212529;" data-color="–ß—ë—Ä–Ω—ã–π"></div>
                    <div class="color-option" style="background: #e9e9e9;" data-color="–°–µ—Ä—ã–π"></div>
                </div>
                <input type="hidden" id="selectedColor" name="color" value="–†–æ–∑–æ–≤—ã–π">
                
            </div>
            
            <!-- –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ -->
            <div class="form-section">
                <h2>–†–∞–∑–º–µ—Ä –±–æ–∫—Å–∞</h2>
                <div class="size-options">
                    <div class="size-option selected" data-size="–ë–æ–ª—å—à–æ–π (30√ó30—Å–º)">–ë–æ–ª—å—à–æ–π</div>
                    <div class="size-option" data-size="–°—Ä–µ–¥–Ω–∏–π (20√ó20—Å–º)">–°—Ä–µ–¥–Ω–∏–π</div>
                    <div class="size-option" data-size="–ú–∞–ª–µ–Ω—å–∫–∏–π (15√ó15—Å–º)">–ú–∞–ª–µ–Ω—å–∫–∏–π</div>
                </div>
                <input type="hidden" id="selectedSize" name="size" value="–ë–æ–ª—å—à–æ–π (30√ó30—Å–º)">
            </div>
            
            <!-- –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ -->
            <div class="form-section">
                <h2>–ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ</h2>
                <textarea name="filling" placeholder="–ö–∞–∫–∏–µ —Å–ª–∞–¥–æ—Å—Ç–∏ —Ö–æ—Ç–µ–ª–∏ –±—ã –≤–∏–¥–µ—Ç—å (—à–æ–∫–æ–ª–∞–¥, –º–∞—Ä–º–µ–ª–∞–¥, –ø–µ—á–µ–Ω—å–µ –∏ —Ç.–¥.)"></textarea>
            </div>
            
            <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π -->
            <div class="form-section">
                <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É</h2>
                <textarea name="comment" placeholder="–î–æ–±–∞–≤—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –∫ –∑–∞–∫–∞–∑—É, –æ—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∞–ª–ª–µ—Ä–≥–∏–∏..."></textarea>
            </div>
            
            <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
            <div class="form-section">
                <h2>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
                <p>–ú–∞—Å—Ç–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π –∏ –æ–ø–ª–∞—Ç—ã</p>
                <input type="text" name="name" placeholder="–í–∞—à–µ –∏–º—è" required>
                <input type="text" name="phone" placeholder="–Æ–∑ Telegramm –∏–ª–∏ WhatsApp" required style="margin-top: 1rem;">
            </div>
            
            <button type="submit" class="submit-btn">–û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó</button>
        </form>
    </div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä–∑–∏–Ω—ã
    const cart = JSON.parse(localStorage.getItem('amirizeCart')) || [];
    const orderItemsContainer = document.getElementById('orderItemsContainer');
    const orderTotalElement = document.getElementById('orderTotal');
    const cartCountElement = document.getElementById('cartCount');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã
    cartCountElement.textContent = cart.reduce((total, item) => total + item.quantity, 0);
    
    let total = 0;
    
    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã
    if (cart.length === 0) {
        orderItemsContainer.innerHTML = '<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
        return;
    }
    
    cart.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = 'order-item';
        itemElement.innerHTML = `
            <span>${item.name}</span>
            <span>${item.price.toLocaleString('ru-RU')} ‚ÇΩ √ó ${item.quantity}</span>
        `;
        orderItemsContainer.appendChild(itemElement);
        total += item.price * item.quantity;
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É
    orderTotalElement.textContent = `${total.toLocaleString('ru-RU')} ‚ÇΩ`;
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞
    document.querySelectorAll('.color-option').forEach(option => {
        option.addEventListener('click', function() {
            document.querySelectorAll('.color-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            this.classList.add('selected');
            document.getElementById('selectedColor').value = this.getAttribute('data-color');
        });
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞
    document.querySelectorAll('.size-option').forEach(option => {
        option.addEventListener('click', function() {
            document.querySelectorAll('.size-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            this.classList.add('selected');
            document.getElementById('selectedSize').value = this.getAttribute('data-size');
        });
    });
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)
   document.getElementById('orderForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const cart = JSON.parse(localStorage.getItem('amirizeCart')) || [];
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    
    // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –ø–∏—Å—å–º–∞
    let itemsText = '';
    cart.forEach(item => {
        itemsText += `- ${item.name} (${item.price} ‚ÇΩ √ó ${item.quantity})\n`;
    });
    
    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    const orderData = {
        name: formData.get('name'),
        phone: formData.get('phone'),
        color: formData.get('color'),
        size: formData.get('size'),
        filling: formData.get('filling'),
        comment: formData.get('comment'),
        items: itemsText,
        total: `${total} ‚ÇΩ`
    };
    
    try {
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ Google Apps Script
        const response = await fetch('https://script.google.com/macros/s/AKfycbw0sDRAYihJ-sk9WXQRFMpd6konijW28C2xsJ9HqfULPxqCNkWcMrM1x52ocseeNIDZ/exec', {
            method: 'POST',
            mode: 'no-cors', // –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(orderData)
        });
        
        // –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º
        localStorage.removeItem('amirizeCart');
        window.location.href = 'thank-you.html';
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞–º –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ Telegram/WhatsApp –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.');
    }
    });
});
        </script>
</body>
</html>
